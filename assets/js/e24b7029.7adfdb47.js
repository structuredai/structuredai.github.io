(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{103:function(e,t,a){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}a.r(t),a.d(t,"default",(function(){return d}));var l=a(4),r=a(0),i=a.n(r),s=a(108),o=a(107),u=a(16),c=a(24),m=a(94),p=a.n(m),h=function(e){function t(){var t;return(t=e.call(this)||this).state={displayName:null,name:null,profilePictureUrl:null,company:null,bio:null,blog:null,location:null,twitter_username:null,current_user:!1},t.updateUserData=t.updateUserData.bind(n(t)),t.logout=t.logout.bind(n(t)),t}Object(l.a)(t,e);var a=t.prototype;return a.componentDidMount=function(){this.updateUserData()},a.updateUserData=function(){var e=this;fetch(this.props.apiBaseUrl+"/user/"+this.props.userName,{credentials:"include"}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState(t)}))},a.logout=function(){var e=this;console.log("logging out",this),fetch(this.props.apiBaseUrl+"/logout",{credentials:"include"}).then((function(t){return e.updateUserData()}))},a.render=function(){var e;return e=this.state.current_user!==this.state.displayName?i.a.createElement(o.a,{to:"/user"},"log in"):i.a.createElement("button",{onClick:this.logout},"log out"),i.a.createElement("section",{className:p.a.profile},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col"},i.a.createElement("img",{src:this.state.profilePictureUrl}),e,i.a.createElement("ul",null,i.a.createElement("li",null,"name ",this.state.name," "," (current user: ",this.state.current_user,")"),i.a.createElement("li",null,"company ",this.state.company),i.a.createElement("li",null,"bio ",this.state.bio),i.a.createElement("li",null,"blog ",this.state.blog),i.a.createElement("li",null,"location ",this.state.location),i.a.createElement("li",null,"twitter ",this.state.twitter_username))))))},t}(i.a.Component);function d(){var e=Object(u.default)().siteConfig,t=Object(c.useRouteMatch)();return i.a.createElement(s.a,{title:t.params.id},i.a.createElement(h,{apiBaseUrl:e.customFields.apiBaseUrl,userName:t.params.id}))}}}]);