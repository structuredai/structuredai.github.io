(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{104:function(e,t,n){"use strict";function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.r(t),n.d(t,"default",(function(){return f}));var i=n(4),r=n(0),s=n.n(r),l=n(109),o=n(108),c=n(16),u=n(24),p=n(63),h=n.n(p),m=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={active:t.info.active},n.activate=n.activate.bind(a(n)),n.deactivate=n.deactivate.bind(a(n)),n}Object(i.a)(t,e);var n=t.prototype;return n.activate=function(){var e=this;fetch(this.props.apiBaseUrl+"/repo/activate/"+this.props.info.id,{credentials:"include"}).then((function(e){return e.json()})).then((function(t){!0===t.active&&e.setState({active:!0})}))},n.deactivate=function(){var e=this;fetch(this.props.apiBaseUrl+"/repo/deactivate/"+this.props.info.id,{credentials:"include"}).then((function(e){return e.json()})).then((function(t){!1===t.active&&e.setState({active:!1})}))},n.render=function(){var e=this.props.info.name,t=s.a.createElement("button",{onClick:this.activate},"activate");return this.state.active&&(e=s.a.createElement(o.a,{to:"/"+this.props.owner+"/"+this.props.info.full_name},this.props.info.name),t=s.a.createElement("button",{onClick:this.deactivate},"deactivate")),s.a.createElement("li",null,e," (stars: ",this.props.info.stargazers_count,", ",this.props.info.topics,") ",t)},t}(s.a.Component),d=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={displayName:null,name:null,profilePictureUrl:null,company:null,bio:null,blog:null,location:null,twitter_username:null,current_user:!1,repositories:[],runnerTokens:[]},n.updateUserData=n.updateUserData.bind(a(n)),n.logout=n.logout.bind(a(n)),n.newRunner=n.newRunner.bind(a(n)),n}Object(i.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.updateUserData()},n.updateUserData=function(){var e=this;fetch(this.props.apiBaseUrl+"/user/"+this.props.userName,{credentials:"include"}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState(t)}))},n.logout=function(){var e=this;fetch(this.props.apiBaseUrl+"/user/logout",{credentials:"include"}).then((function(t){return e.updateUserData()}))},n.newRunner=function(){var e=this;fetch(this.props.apiBaseUrl+"/runner/new",{credentials:"include"}).then((function(t){return e.updateUserData()}))},n.render=function(){var e,t,n=this;return this.state.current_user!==this.state.displayName?(e=s.a.createElement(o.a,{to:"/user"},"log in"),t=""):(e=s.a.createElement("button",{onClick:this.logout},"log out"),t=s.a.createElement("button",{onClick:this.newRunner},"new")),s.a.createElement("section",{className:h.a.profile},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("img",{src:this.state.profilePictureUrl}),e,s.a.createElement("ul",null,s.a.createElement("li",null,"name ",this.state.name," "," (current user: ",this.state.current_user,")"),s.a.createElement("li",null,"company ",this.state.company),s.a.createElement("li",null,"bio ",this.state.bio),s.a.createElement("li",null,"blog ",this.state.blog),s.a.createElement("li",null,"location ",this.state.location),s.a.createElement("li",null,"twitter ",this.state.twitter_username),s.a.createElement("li",null,"runners ",t," ",this.state.runnerTokens.filter((function(e){return e.token})).map((function(e){return e.token})).join(", ")))),s.a.createElement("div",{className:"col"},s.a.createElement("h3",null,"Repositories"),s.a.createElement("ul",null,this.state.repositories.map((function(e){return s.a.createElement(m,{owner:n.state.displayName,key:e.id,info:e,apiBaseUrl:n.props.apiBaseUrl})})))))))},t}(s.a.Component);function f(){var e=Object(c.default)().siteConfig,t=Object(u.useRouteMatch)();return s.a.createElement(l.a,{title:t.params.id},s.a.createElement(d,{apiBaseUrl:e.customFields.apiBaseUrl,userName:t.params.id}))}}}]);