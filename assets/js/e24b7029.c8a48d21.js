(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{96:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return d}));var i=a(0),s=a.n(i),n=a(109),l=a(108),r=a(16),c=a(24),o=a(63),u=a.n(o);class p extends s.a.Component{constructor(e){super(e),this.state={active:e.active},this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this)}activate(){fetch(`${this.props.apiBaseUrl}/repo/activate/${this.props.id}`,{credentials:"include"}).then((e=>e.json())).then((e=>{!0===e.active&&this.setState({active:!0})}))}deactivate(){fetch(`${this.props.apiBaseUrl}/repo/deactivate/${this.props.id}`,{credentials:"include"}).then((e=>e.json())).then((e=>{!1===e.active&&this.setState({active:!1})}))}render(){return this.state.active?s.a.createElement("button",{onClick:this.deactivate},"deactivate"):s.a.createElement("button",{onClick:this.activate},"activate")}}function h(e){return s.a.createElement("li",null,s.a.createElement(l.a,{to:`/${e.owner}/${e.info.full_name}`},e.info.name)," (stars: ",e.info.stargazers_count,", ",e.info.topics,") ",s.a.createElement(p,{id:e.info.id,active:e.info.active,apiBaseUrl:e.apiBaseUrl}))}class m extends s.a.Component{constructor(e){super(e),this.state={displayName:null,name:null,profilePictureUrl:null,company:null,bio:null,blog:null,location:null,twitter_username:null,current_user:!1,repositories:[]},this.updateUserData=this.updateUserData.bind(this),this.logout=this.logout.bind(this)}componentDidMount(){this.updateUserData()}updateUserData(){fetch(`${this.props.apiBaseUrl}/user/${this.props.userName}`,{credentials:"include"}).then((e=>e.json())).then((e=>{console.log(e),this.setState(e)}))}logout(){console.log("logging out",this),fetch(`${this.props.apiBaseUrl}/logout`,{credentials:"include"}).then((e=>this.updateUserData()))}render(){let e;return e=this.state.current_user!==this.state.displayName?s.a.createElement(l.a,{to:"/user"},"log in"):s.a.createElement("button",{onClick:this.logout},"log out"),s.a.createElement("section",{className:u.a.profile},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("img",{src:this.state.profilePictureUrl}),e,s.a.createElement("ul",null,s.a.createElement("li",null,"name ",this.state.name," "," (current user: ",this.state.current_user,")"),s.a.createElement("li",null,"company ",this.state.company),s.a.createElement("li",null,"bio ",this.state.bio),s.a.createElement("li",null,"blog ",this.state.blog),s.a.createElement("li",null,"location ",this.state.location),s.a.createElement("li",null,"twitter ",this.state.twitter_username))),s.a.createElement("div",{className:"col"},s.a.createElement("h3",null,"Repositories"),s.a.createElement("ul",null,this.state.repositories.map(((e,t)=>s.a.createElement(h,{owner:this.state.displayName,key:t,info:e,apiBaseUrl:this.props.apiBaseUrl}))))))))}}function d(){const{siteConfig:e}=Object(r.default)(),t=Object(c.useRouteMatch)();return s.a.createElement(n.a,{title:t.params.id},s.a.createElement(m,{apiBaseUrl:e.customFields.apiBaseUrl,userName:t.params.id}))}}}]);