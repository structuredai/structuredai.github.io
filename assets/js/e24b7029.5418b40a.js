(self.webpackChunkstructuredai=self.webpackChunkstructuredai||[]).push([[801],{7307:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.r(t),n.d(t,{default:function(){return f}});var i=n(3552),a=n(7294),s=n(2611),l=n(6742),o=n(2263),u=n(5977),c=n(4303),p=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={active:t.info.active},n.activate=n.activate.bind(r(n)),n.deactivate=n.deactivate.bind(r(n)),n}(0,i.Z)(t,e);var n=t.prototype;return n.activate=function(){var e=this;fetch(this.props.apiBaseUrl+"/repo/activate/"+this.props.info.id,{credentials:"include"}).then((function(e){return e.json()})).then((function(t){!0===t.active&&e.setState({active:!0})}))},n.deactivate=function(){var e=this;fetch(this.props.apiBaseUrl+"/repo/deactivate/"+this.props.info.id,{credentials:"include"}).then((function(e){return e.json()})).then((function(t){!1===t.active&&e.setState({active:!1})}))},n.render=function(){var e=this.props.info.name,t=a.createElement("button",{onClick:this.activate},"activate");return this.state.active&&(e=a.createElement(l.Z,{to:"/"+this.props.owner+"/"+this.props.info.full_name},this.props.info.name),t=a.createElement("button",{onClick:this.deactivate},"deactivate")),a.createElement("li",null,e," (stars: ",this.props.info.stargazers_count,", ",this.props.info.topics,") ",t)},t}(a.Component),h=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={displayName:null,name:null,profilePictureUrl:null,company:null,bio:null,blog:null,location:null,twitter_username:null,current_user:!1,repositories:[],runnerTokens:[]},n.updateUserData=n.updateUserData.bind(r(n)),n.logout=n.logout.bind(r(n)),n.newRunner=n.newRunner.bind(r(n)),n}(0,i.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.updateUserData()},n.updateUserData=function(){var e=this;fetch(this.props.apiBaseUrl+"/user/"+this.props.userName,{credentials:"include"}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState(t)}))},n.logout=function(){var e=this;fetch(this.props.apiBaseUrl+"/user/logout",{credentials:"include"}).then((function(t){return e.updateUserData()}))},n.newRunner=function(){var e=this;fetch(this.props.apiBaseUrl+"/runner/new",{credentials:"include"}).then((function(t){return e.updateUserData()}))},n.render=function(){var e,t,n=this;return this.state.current_user!==this.state.displayName?(e=a.createElement(l.Z,{to:"/user"},"log in"),t=""):(e=a.createElement("button",{onClick:this.logout},"log out"),t=a.createElement("button",{onClick:this.newRunner},"new")),a.createElement("section",{className:c.Z.profile},a.createElement("div",{className:"container"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col"},a.createElement("img",{src:this.state.profilePictureUrl}),e,a.createElement("ul",null,a.createElement("li",null,"name ",this.state.name," "," (current user: ",this.state.current_user,")"),a.createElement("li",null,"company ",this.state.company),a.createElement("li",null,"bio ",this.state.bio),a.createElement("li",null,"blog ",this.state.blog),a.createElement("li",null,"location ",this.state.location),a.createElement("li",null,"twitter ",this.state.twitter_username),a.createElement("li",null,"runners ",t," ",this.state.runnerTokens.filter((function(e){return e.token})).map((function(e){return e.token})).join(", ")))),a.createElement("div",{className:"col"},a.createElement("h3",null,"Repositories"),a.createElement("ul",null,this.state.repositories.map((function(e){return a.createElement(p,{owner:n.state.displayName,key:e.id,info:e,apiBaseUrl:n.props.apiBaseUrl})})))))))},t}(a.Component);function f(){var e=(0,o.default)().siteConfig,t=(0,u.$B)();return a.createElement(s.Z,{title:t.params.user},a.createElement(h,{apiBaseUrl:e.customFields.apiBaseUrl,userName:t.params.user}))}},4303:function(e,t){"use strict";t.Z={profile:"profile_6ll1"}}}]);